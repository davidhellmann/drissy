{# @var craft \craft\web\twig\variables\CraftVariable #}
{# @var entry \craft\elements\Entry #}

{#
  Home
  ------------------------------------------------------------
#}

{% extends '_layouts/_layout.twig' %}

{# -- inline css -- #}
{% block _inline_css %}
    <style>
        {{ source ('index_critical.min.css', ignore_missing=true) }}
    </style>
    {# -- end inline css -- #}
{% endblock %}

{# -- cache -- #}
{% cache globally using key 'homepage' ~ (craft.imager.clientSupportsWebp ? "-with-webp") ~ craft.app.request.pathInfo ~ (craft.app.request.pageNum ? '/p' ~ craft.app.request.pageNum : '') %}

    {# -- header -- #}
    {% block header %}
        {% include '_components/header/default.twig' with {
            opt : {
                imager: {
                    lazy: false,
                    mediaBox: false,
                    class: 'absolute top-0 left-0 w-full h-full',
                },
                el: {
                    nav: 'default',
                    image: entry.entryImage.one() ?? entry.introImage.one() ?? null,
                    title: entry.introHeadline ?? entry.title ?? null,
                    description: entry.introText ?? null,
                }
            }
        } only %}
    {% endblock %}
    {# -- header end -- #}

    {# -- content -- #}
    {% block content %}
        {# -- itemContent -- #}
        {% block itemContent %}
            {% include '_matrix.twig' with {
                matrix: entry.contentBuilder
            } only %}
        {% endblock %}
        {# -- itemContent end -- #}
    {% endblock %}
    {# -- content end -- #}

    {# -- footer -- #}
    {% block footer %}
        {{ parent() }}
    {% endblock %}
    {# -- footer end -- #}

{% endcache %}
{# -- cache end -- #}
